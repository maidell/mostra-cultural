<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat de Ajuda para Idosos</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background-color: #e3f2fd; 
            margin: 0;
            padding: 0;
        }
        #chat-container {
            max-width: 400px;
            margin: 0 auto;
            height: 100vh;
            display: flex;
            flex-direction: column;
            background-color: #1976d2; 
            color: white;
        }
        #header {
            padding: 10px;
            text-align: center;
            font-size: 1.5em;
            background-color: #1565c0; 
        }
        #messages {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            background-color: #f5f5f5; 
        }
        .message {
            margin: 10px 0;
            padding: 10px 15px;
            border-radius: 10px;
            max-width: 70%;
            word-wrap: break-word;
            font-size: 1.1em; 
        }
        .user {
            background-color: #2196f3; 
            color: white;
            margin-left: auto;
            text-align: right;
            border-bottom-right-radius: 0;
        }
        .bot {
            background-color: white;
            color: black;
            margin-right: auto;
            text-align: left;
            border-bottom-left-radius: 0;
        }
        #input-container {
            display: flex;
            padding: 10px;
            background-color: #e3f2fd; 
        }
        input[type="text"] {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 20px;
            font-size: 1.1em;
            margin-right: 10px;
        }
        button {
            padding: 10px 15px;
            background-color: #1976d2; 
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
        }
        button:hover {
            background-color: #1565c0;
        }
        .quick-options {
            display: flex;
            flex-wrap: wrap;
            padding: 10px;
            gap: 5px;
            background-color: #e3f2fd;
        }
        .quick-option {
            background-color: #1976d2;
            color: white;
            border: none;
            border-radius: 15px;
            padding: 8px 12px;
            font-size: 0.9em;
            cursor: pointer;
        }
        .quick-option:hover {
            background-color: #1565c0;
        }
    </style>
</head>
<body>
    <div id="chat-container">
        <div id="header">
            ðŸ’¬ Chat de Ajuda para Idosos
        </div>
        <div id="messages">
            <div class="message bot">OlÃ¡! Como posso ajudÃ¡-lo hoje? Conte-me o que estÃ¡ acontecendo. ðŸ˜Š</div>
        </div>
        <div class="quick-options">
            <button class="quick-option" onclick="quickMessage('Estou sofrendo bullying')">Bullying</button>
            <button class="quick-option" onclick="quickMessage('Preciso de ajuda')">Ajuda</button>
            <button class="quick-option" onclick="quickMessage('Estou com medo')">Medo</button>
            <button class="quick-option" onclick="quickMessage('Estou triste')">Tristeza</button>
        </div>
        <div id="input-container">
            <input type="text" id="user-input" placeholder="Digite sua mensagem...">
            <button onclick="sendMessage()">ðŸ“¤</button>
        </div>
    </div>
    <script>
        function getBotResponse(userMessage) {
            console.log("Mensagem recebida:", userMessage);
            
            // Verifica se a mensagem estÃ¡ vazia
            if (!userMessage || userMessage.trim() === '') {
                return "Por favor, digite uma mensagem para que eu possa ajudÃ¡-lo. ðŸ˜Š";
            }
            
            const lowerMessage = userMessage.toLowerCase().trim();
            console.log("Mensagem processada:", lowerMessage);
            
            // VerificaÃ§Ã£o direta e simplificada
            if (lowerMessage.includes('bullying') || 
                lowerMessage.includes('assedio') || 
                lowerMessage.includes('assÃ©dio') || 
                lowerMessage.includes('intimidacao') || 
                lowerMessage.includes('intimidaÃ§Ã£o') ||
                lowerMessage.includes('zoaÃ§Ã£o') ||
                lowerMessage.includes('zoeira') ||
                lowerMessage.includes('humilhaÃ§Ã£o') ||
                lowerMessage.includes('humilhacao')) {
                console.log("Identificado: bullying");
                return "Entendo que o bullying Ã© doloroso e injusto. VocÃª nÃ£o merece isso â€“ Ã© um problema do agressor. Vamos pensar em como denunciar ou buscar apoio. Ligue para 190 se for urgente. ðŸ’ª";
            } 
            
            if (lowerMessage.includes('ajuda') || 
                lowerMessage.includes('socorro') || 
                lowerMessage.includes('preciso de ajuda') || 
                lowerMessage.includes('emergencia') || 
                lowerMessage.includes('emergÃªncia') ||
                lowerMessage.includes('urgencia') ||
                lowerMessage.includes('urgÃªncia') ||
                lowerMessage.includes('socorro')) {
                console.log("Identificado: ajuda");
                return "Estou aqui para ajudar! Conte-me mais detalhes sobre o que estÃ¡ acontecendo. Podemos conectar vocÃª a recursos como o CVV (188) ou centros de apoio a idosos. ðŸ¤";
            } 
            
            if (lowerMessage.includes('obrigado') || 
                lowerMessage.includes('obrigada') || 
                lowerMessage.includes('agradeÃ§o') || 
                lowerMessage.includes('agradeco') || 
                lowerMessage.includes('valeu') ||
                lowerMessage.includes('grato') ||
                lowerMessage.includes('gratidao') ||
                lowerMessage.includes('obg')) {
                console.log("Identificado: agradecimento");
                return "De nada! Fico feliz em ajudar. Lembre-se: vocÃª Ã© forte e merece respeito. Se precisar de mais, estou aqui. ðŸ˜Š";
            } 
            
            if (lowerMessage.includes('familia') || 
                lowerMessage.includes('famÃ­lia') || 
                lowerMessage.includes('filhos') || 
                lowerMessage.includes('amigos') || 
                lowerMessage.includes('parentes') ||
                lowerMessage.includes('filho') ||
                lowerMessage.includes('filha') ||
                lowerMessage.includes('familiares')) {
                console.log("Identificado: famÃ­lia");
                return "FamÃ­lia e amigos podem ser grandes aliados. Que tal conversar com alguÃ©m de confianÃ§a? Eles podem ajudar a resolver a situaÃ§Ã£o. Se precisar de dicas, me diga. ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦";
            } 
            
            if (lowerMessage.includes('medo') || 
                lowerMessage.includes('assustado') || 
                lowerMessage.includes('assustada') || 
                lowerMessage.includes('inseguro') || 
                lowerMessage.includes('insegura') ||
                lowerMessage.includes('amedrontado') ||
                lowerMessage.includes('temeroso') ||
                lowerMessage.includes('amedrontada')) {
                console.log("Identificado: medo");
                return "Ã‰ normal se sentir assim. Vamos focar em passos para sua seguranÃ§a, como evitar situaÃ§Ãµes de risco ou buscar proteÃ§Ã£o. VocÃª nÃ£o estÃ¡ sozinho. ðŸ›¡ï¸";
            } 
            
            if (lowerMessage.includes('depressao') || 
                lowerMessage.includes('depressÃ£o') || 
                lowerMessage.includes('triste') || 
                lowerMessage.includes('sozinho') || 
                lowerMessage.includes('sozinha') ||
                lowerMessage.includes('solidÃ£o') ||
                lowerMessage.includes('solidao') ||
                lowerMessage.includes('chateado') ||
                lowerMessage.includes('chateada') ||
                lowerMessage.includes('tristeza') ||
                lowerMessage.includes('solitaria') ||
                lowerMessage.includes('solitÃ¡rio')) {
                console.log("Identificado: tristeza");
                return "Sinto muito que vocÃª se sinta assim. A solidÃ£o pode ser pesada, mas hÃ¡ ajuda disponÃ­vel. O CVV (188) Ã© confidencial e gratuito. Vamos conversar mais? â¤ï¸";
            } 
            
            // Se nÃ£o encontrou nenhuma palavra-chave
            console.log("Nenhuma palavra-chave encontrada, caindo no else");
            return "Obrigado por compartilhar. Cada detalhe ajuda a entender melhor. Vamos juntos encontrar uma soluÃ§Ã£o. Conte-me mais se quiser. ðŸŒŸ";
        }
        
        function sendMessage() {
    // Redireciona para index.html ao clicar em enviar
    window.location.href = "second.html";
    
    const input = document.getElementById('user-input');
    const messages = document.getElementById('messages');
    const userText = input.value.trim();

            
            console.log("Texto capturado do input:", userText);
            
            if (userText !== '') {
                // Adiciona mensagem do usuÃ¡rio
                const userMessage = document.createElement('div');
                userMessage.className = 'message user';
                userMessage.textContent = userText;
                messages.appendChild(userMessage);
                
                // Adiciona resposta do bot apÃ³s um pequeno atraso
                setTimeout(() => {
                    const botMessage = document.createElement('div');
                    botMessage.className = 'message bot';
                    botMessage.textContent = getBotResponse(userText);
                    messages.appendChild(botMessage);                                                                                                                                                                                                                                                                       
                    messages.scrollTop = messages.scrollHeight; 
                }, 500);
                
                input.value = '';
                messages.scrollTop = messages.scrollHeight;
            } else {
                console.log("Input vazio - nÃ£o enviando mensagem");
            }
        }
        
        function quickMessage(text) {
            console.log("BotÃ£o rÃ¡pido clicado:", text);
            document.getElementById('user-input').value = text;
            sendMessage();
        }
        
        document.getElementById('user-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                console.log("Enter pressionado");
                sendMessage();
            }
        });
    </script>''
</body>
</html>